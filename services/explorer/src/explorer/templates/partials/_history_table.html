{% for item in items %}
<tr>
  <td class="text-nowrap text-muted">{{ item.played_at[:16] if item.played_at else "—" }}</td>
  <td>{{ item.track_name }}</td>
  <td class="text-muted">{{ item.artist_name }}</td>
  <td class="text-end duration">
    {% if item.ms_played %}
      {{ "%d:%02d" | format((item.ms_played // 60000), ((item.ms_played % 60000) // 1000)) }}
    {% else %}—{% endif %}
  </td>
</tr>
{% endfor %}
{% if not items %}
<tr><td colspan="4" class="text-muted text-center py-4">No plays found</td></tr>
{% endif %}

{% if total > limit %}
<div id="history-pagination" hx-swap-oob="innerHTML">
  {% include "partials/_pagination.html" %}
</div>
{% endif %}
